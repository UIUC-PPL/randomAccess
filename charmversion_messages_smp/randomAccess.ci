mainmodule randomAccess {
    readonly CProxy_Main mainProxy;
    readonly CProxy_Updater updater_array;
    readonly  CProxy_Generator generator_array;
    readonly int numOfUpdaters;
    readonly int logLocalTableSize;
    readonly long localTableSize;
    readonly long tableSize;

    group PMEMap : CkArrayMap {
        entry PMEMap(int);
    }
    message DUMMYMSG;

    mainchare Main {
        entry Main(CkArgMsg*);
        entry void verifyDone(CkReductionMsg*); 
        entry void allUpdatesDone(DUMMYMSG*);
        entry void start(CkReductionMsg*);
    };
    
    array [1D] Generator {
        entry Generator();
        entry [threaded] void  generateUpdates();
    };

    array [1D] Updater {
        entry Updater();
        entry void initialize();
        entry void updateLocalTable(long); 
        entry void checkErrors();
    };
};
